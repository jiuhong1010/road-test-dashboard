<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>报告详情</title>
    <link rel="stylesheet" href="report-detail.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- 页面头部 -->
        <div class="page-header">
            <button class="back-btn" onclick="goBack()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="m12 19-7-7 7-7"/>
                    <path d="M19 12H5"/>
                </svg>
                返回列表
            </button>
            <h1>报告详情 - <span id="reportId">RPT001</span></h1>
        </div>

        <!-- 基本信息 -->
        <div class="section">
            <h2>基本信息</h2>
            <div class="basic-info-grid" id="basicInfoGrid">
                <!-- 基本信息将通过JavaScript填充 -->
            </div>
        </div>

        <!-- 问题分析统计 -->
        <div class="section">
            <h2>问题分析统计</h2>
            <div class="problem-charts-grid">
                <div class="problem-chart-item">
                    <h3>问题大类分布</h3>
                    <div class="chart-container-small">
                        <canvas id="problemCategoryChart"></canvas>
                    </div>
                </div>
                <div class="problem-chart-item">
                    <h3>顶级功能分布</h3>
                    <div class="chart-container-small">
                        <canvas id="topFunctionChart"></canvas>
                    </div>
                </div>
                <div class="problem-chart-item">
                    <h3>优先级分布</h3>
                    <div class="chart-container-small">
                        <canvas id="priorityChart"></canvas>
                    </div>
                </div>
                <div class="problem-chart-item">
                    <h3>影响程度分布</h3>
                    <div class="chart-container-small">
                        <canvas id="impactChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- 驾驶辅助指标 -->
        <div class="section">
            <h2>驾驶辅助指标</h2>
            
            <!-- 接管与异常升降级 -->
            <div class="metric-group">
                <h3>接管与异常升降级</h3>
                <div class="chart-container">
                    <canvas id="takeoverChart"></canvas>
                </div>
            </div>

            <!-- 变道 -->
            <div class="metric-group">
                <h3>变道</h3>
                <div class="metric-grid">
                    <div class="metric-item">
                        <span class="metric-label">拨杆变道成功率</span>
                        <span class="metric-value">96.5%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">效率变道成功率</span>
                        <span class="metric-value">94.2%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">避障变道成功率</span>
                        <span class="metric-value">98.1%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">加塞成功率</span>
                        <span class="metric-value">89.7%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">变道超调率</span>
                        <span class="metric-value">3.2%</span>
                    </div>
                </div>
            </div>

            <!-- 横向 -->
            <div class="metric-group">
                <h3>横向</h3>
                <div class="metric-grid">
                    <div class="metric-item">
                        <span class="metric-label">整体不居中</span>
                        <span class="metric-value">1.5次/百公里</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">弯道通行成功率</span>
                        <span class="metric-value">97.8%</span>
                    </div>
                </div>
            </div>

            <!-- 绕行 -->
            <div class="metric-group">
                <h3>绕行</h3>
                <div class="metric-grid">
                    <div class="metric-item">
                        <span class="metric-label">绕行避障成功率</span>
                        <span class="metric-value">95.6%</span>
                    </div>
                </div>
            </div>

            <!-- 纵向 -->
            <div class="metric-group">
                <h3>纵向</h3>
                <div class="metric-grid">
                    <div class="metric-item">
                        <span class="metric-label">点刹</span>
                        <span class="metric-value">2.1次/百公里</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">应对切入失败</span>
                        <span class="metric-value">0.8次/百公里</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">巡航跟停成功率</span>
                        <span class="metric-value">98.5%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">静止车刹停成功率</span>
                        <span class="metric-value">97.2%</span>
                    </div>
                </div>
            </div>

            <!-- 匝道互通 -->
            <div class="metric-group">
                <h3>匝道互通</h3>
                <div class="metric-grid">
                    <div class="metric-item">
                        <span class="metric-label">汇入主路成功率</span>
                        <span class="metric-value">94.8%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">匝道内行驶成功率</span>
                        <span class="metric-value">96.3%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">驶入匝道成功率</span>
                        <span class="metric-value">95.7%</span>
                    </div>
                </div>
            </div>

            <!-- 路口相关 -->
            <div class="metric-group">
                <h3>路口相关</h3>
                <div class="metric-grid">
                    <div class="metric-item">
                        <span class="metric-label">路口直行成功率</span>
                        <span class="metric-value">96.9%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">红绿灯识别成功率（GLC）</span>
                        <span class="metric-value">98.7%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">M2N成功率</span>
                        <span class="metric-value">93.4%</span>
                    </div>
                </div>
            </div>

            <!-- 特殊场景 -->
            <div class="metric-group">
                <h3>特殊场景</h3>
                <div class="metric-grid">
                    <div class="metric-item">
                        <span class="metric-label">施工场景识别率</span>
                        <span class="metric-value">92.1%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">施工场景绕行成功率</span>
                        <span class="metric-value">88.6%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">违反交规</span>
                        <span class="metric-value">0.3次/百公里</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 自动泊车指标 -->
        <div class="section">
            <h2>自动泊车指标</h2>
            <div class="chart-container">
                <canvas id="parkingSuccessChart"></canvas>
            </div>
        </div>

        <!-- 泊车异常指标 -->
        <div class="section">
            <h2>泊车异常指标</h2>
            <div class="chart-container">
                <canvas id="parkingAnomalyChart"></canvas>
            </div>
        </div>
    </div>

    <script src="report-detail.js"></script>
</body>
</html>